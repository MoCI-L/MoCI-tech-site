{{ define "main" }}

{{ if .Params.password }}

<style>
/* è§£é”å¡ç‰‡å®¹å™¨ */
.unlock-wrapper {
  max-width: 420px;
  margin: 6rem auto;
  padding: 2rem;
  border-radius: 12px;
  background: var(--entry);
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
  text-align: center;
}

/* æ ‡é¢˜ */
.unlock-title {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 1rem;
}

/* è¾“å…¥æ¡† */
.unlock-input {
  width: 100%;
  padding: 0.6rem;
  margin: 1rem 0;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--theme);
  color: var(--content);
}

/* æŒ‰é’® */
.unlock-btn {
  width: 100%;
  padding: 0.6rem;
  border-radius: 8px;
  border: none;
  background: var(--primary);
  color: white;
  cursor: pointer;
  font-weight: 600;
}

/* é”™è¯¯æç¤º */
.unlock-error {
  margin-top: 0.8rem;
  color: #ff6b6b;
  font-size: 0.9rem;
}

/* æ­£æ–‡éšè— */
#protected-content {
  display: none;
}
</style>

<div class="unlock-wrapper" id="unlock-box">
  <div class="unlock-title">ğŸ”’ æœ¬é¡µå†…å®¹å—ä¿æŠ¤</div>
  <p>è¯·è¾“å…¥è®¿é—®å¯†ç ä»¥è§£é”å†…å®¹</p>

  <input
    type="password"
    id="unlock-password"
    class="unlock-input"
    placeholder="Password"
  />

  <button class="unlock-btn" onclick="unlockContent()">è§£é”å†…å®¹</button>

  <div class="unlock-error" id="unlock-error"></div>
</div>

<div id="protected-content">
  {{ .Content }}
</div>

<script>
function unlockContent() {
  const input = document.getElementById("unlock-password").value;
  const error = document.getElementById("unlock-error");
  const password = "{{ .Params.password }}";

  if (input === password) {
    document.getElementById("unlock-box").style.display = "none";
    document.getElementById("protected-content").style.display = "block";
  } else {
    error.innerText = "å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•";
  }
}
</script>

{{ else }}

{{ .Content }}

{{ end }}

{{ end }}
